
<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Perfil - Stergy</title>
	<link rel="stylesheet" href="../CSS/perfil.css">
</head>
<body class="perfil-body">
	<div class="perfil-container">
		<div class="perfil-card">
			<div class="perfil-header">
				<img src="../IMG/Logo-Stergy-Tech.jpeg" alt="Logo" class="perfil-logo">
				<h1>Mi Perfil</h1>
				<p id="fechaRegistro" class="muted"></p>
			</div>

			<div class="perfil-main">
				<div class="avatar"><span id="avatarInitial">R</span></div>
				<div class="perfil-info">
					<p><strong id="perfil-username">Usuario</strong></p>
					<p id="perfil-email">usuario@ejemplo.com</p>
				</div>
			</div>

			<div class="perfil-actions">
				<button id="btnEditar" class="btn primary">Editar perfil</button>
				<button id="btnCerrar" class="btn">Cerrar sesión</button>
				<a class="btn link" href="../index.html">Volver al inicio</a>
			</div>
		</div>
	</div>

	<!-- Lógica de usuario (usa UsuarioManager en verificacion-pass.js) -->
	<script src="../JS/verificacion-pass.js"></script>
	<script>
		document.addEventListener('DOMContentLoaded', function(){
			const usuario = UsuarioManager.obtenerUsuarioActual();
			if (!usuario) {
				// Si no hay usuario, redirigir a login
				window.location.href = 'login.html';
				return;
			}

			document.getElementById('perfil-username').textContent = usuario.username;
			document.getElementById('perfil-email').textContent = usuario.email;
			document.getElementById('fechaRegistro').textContent = 'Miembro desde: ' + new Date(usuario.fechaRegistro).toLocaleDateString();
			document.getElementById('avatarInitial').textContent = usuario.username.charAt(0).toUpperCase();

			document.getElementById('btnCerrar').addEventListener('click', function(){
				UsuarioManager.cerrarSesion();
				window.location.href = 'login.html';
			});

			document.getElementById('btnEditar').addEventListener('click', function(){
				alert('Función de edición no implementada todavía.');
			});
		});
	</script>
</body>
</html>

